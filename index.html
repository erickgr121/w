<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width , initial-scale=1.0" />
    <link rel="stylesheet" href="style.css">
    <style>
        #produtos,
        #carrinho {
            align-items: center;
            height: 100%;
            width: 100%;
            display: flex;
            position: relative;
        }
        
        #carrinho {
            display: block;
        }
    </style>
    <title>loja</title>
</head>

<body>

    <header>

        <div id="produtos">

        </div>

        <div id="carrinho">

        </div>

        <script>
            const items = [{
                    id: 0,
                    nome: 'camiseta',
                    img: 'foto1.jpg',
                    quantidade: 0
                },

                {
                    id: 1,
                    nome: 'short',
                    img: 'foto1.jpg',
                    quantidade: 0
                },

                {
                    id: 2,
                    nome: 'seila',
                    img: 'foto1.jpg',
                    quantidade: 0
                },

                {
                    id: 3,
                    nome: 'seila',
                    img: 'foto1.jpg',
                    quantidade: 0
                },

                {
                    id: 4,
                    nome: 'seila',
                    img: 'foto1.jpg',
                    quantidade: 0
                },

                {
                    id: 5,
                    nome: 'seila',
                    img: 'foto1.jpg',
                    quantidade: 0
                },

            ]

            inicializarLoja = () => {
                var containerProdutos = document.getElementById('produtos');
                items.map((val) => {
                    containerProdutos.innerHTML += `
                    <div class="produto-single">
                        <img style="display: flex;
                        border-radius:20px;
                        overflow: hidden;
                        position: relative;
                        margin: 20px auto;
                        height: 33.3%;
                        width: 100%;" src="` + val.img + `" />
                        <p>` + val.nome + `</p>
                        <a key="` + val.id + `" href="#">adicionar ao carrinho</a>
                    </div>
                    `;
                })
            }

            inicializarLoja();

            atualizarCarrinho = () => {
                console.log(items);
                var containerCarrinho = document.getElementById('carrinho');
                containerCarrinho.innerHTML = "";
                items.map((val) => {
                    if (val.quantidade > 0) {
                        containerCarrinho.innerHTML += `
                        <p>` + val.nome + ` | quantidade: ` + val.quantidade + `</p>
                        <hr>
                  
                    `;
                    }
                })
            }

            var links = document.getElementsByTagName('a');
            for (var i = 0; i < links.length; i++) {
                links[i].addEventListener("click", function() {
                    let key = this.getAttribute("key");
                    items[key].quantidade++;
                    atualizarCarrinho();
                    return false;
                })
            }
        </script>
    </header>

</body>


</html>